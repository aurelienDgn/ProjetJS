<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../Images/logo.png">

    <!-- bootstrap-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- include font-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet">

    <!-- include socket-->
    <script src="/socket.io/socket.io.js"></script>

    <!-- font awesome-->
    <script src="https://kit.fontawesome.com/deb512e1b2.js" crossorigin="anonymous"></script>

    <!-- include css-->
    <link rel="stylesheet" type="text/css" href="../CSS/waitingRoom.css" />

    <title>BattleCheap - Salle d'attente</title>
</head>

<body>
    <header class="d-flex row align-items-center">
        <h1 class="col-9"><a href="/">BattleCheap</a></h1>
    </header>

    <main>
        <p class="d-flex justify-content-center">Waiting ...</p>
        <div class="gif">
            <h4 id="GG">Patiente frérot</h4>
            <iframe src="../Images/beccardio.gif" width="324" height="324" frameBorder="0" class=giphy-embed></iframe>
        </div>
    </main>

    <footer>
        <p>&copy; BattleCheap - Projet JS CIR2 - 2021 / 2022 - Maxime - Djallal - Enzo - Aurélien - Steeven</p>
    </footer>
</body>
<script>let socket = io();</script>
<script>
    socket.emit("getRoom");

    socket.on("redirectJ1", () => {
        document.getElementById("GG").style.display = "block";
        location.href = '/game';
    })
    socket.on("redirectJ2", () => {
        document.getElementById("GG").style.display = "block";
        location.href = '/game';
    })
    socket.on("removePlay", () => {
        document.getElementById("GG").style.display = "none";
    })
</script>

</html>